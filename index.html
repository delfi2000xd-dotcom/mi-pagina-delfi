<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Delfi ‚Äî Juegos y Emuladores (v2.7)</title>
  <meta name="description" content="P√°gina de Delfi: juegos, emuladores, est√©tica Vocaloid y sonidos en los juegos." />
  <style>
    :root{
      --bg:#071026; --card:#0f1220; --accent:#6be0ff; --accent-2:#ff7bff;
      --muted:#9fb8d6; --text:#eaf6ff; --glass:rgba(255,255,255,0.03);
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#020217);color:var(--text);font-family:Inter,Arial,sans-serif;-webkit-font-smoothing:antialiased}
    header{position:sticky;top:0;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);backdrop-filter:blur(6px);border-bottom:1px solid var(--glass);z-index:60}
    nav{display:flex;gap:12px;justify-content:center;padding:12px;align-items:center}
    nav a{color:var(--accent);text-decoration:none;font-weight:700;padding:6px 10px;border-radius:8px}
    nav a:hover{color:var(--accent-2);transform:translateY(-1px)}
    main{max-width:1100px;margin:18px auto;padding:14px}
    .card{background:linear-gradient(180deg,var(--card),#0b0d16);border-radius:14px;padding:18px;margin-bottom:18px;border:1px solid var(--glass);box-shadow:0 8px 30px rgba(3,6,20,0.6)}
    h1,h2,h3{margin:6px 0}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#001;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:800;border:none;cursor:pointer;box-shadow:0 6px 18px rgba(107,224,255,0.06)}
    .btn.alt{background:transparent;border:1px solid var(--glass);color:var(--muted)}
    .note{color:var(--muted);font-size:0.95rem}
    .small{font-size:0.9rem;color:var(--muted)}
    footer{text-align:center;color:#9fb;margin-top:18px}
    .version{position:fixed;bottom:12px;right:12px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#001;padding:8px 10px;border-radius:10px;font-weight:800;z-index:80;box-shadow:0 8px 30px rgba(107,224,255,0.08)}
    /* Logo con borde ne√≥n */
    .logo-wrap{display:inline-block;border-radius:20px;padding:6px;background:linear-gradient(90deg,#6be0ff,#ff7bff);box-shadow:0 0 20px #6be0ff,0 0 40px #ff7bff}
    .logo-canal{width:160px;height:160px;border-radius:14px;object-fit:cover;border:4px solid rgba(255,255,255,0.06);box-shadow:0 12px 40px rgba(0,0,0,0.6)}
    /* Juegos */
    #game-area{width:400px;height:400px;margin:16px auto;position:relative;background:linear-gradient(180deg,#05060a,#071026);border-radius:12px;border:2px dashed rgba(107,224,255,0.06)}
    #square{width:44px;height:44px;background:linear-gradient(180deg,#7fffcc,#00d1a6);position:absolute;border-radius:8px;box-shadow:0 8px 20px rgba(0,200,150,0.08)}
    canvas{display:block;margin:12px auto;background:#000;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .controls{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
    .key-indicators{display:flex;gap:12px;justify-content:center;margin-top:8px;flex-wrap:wrap}
    .keys-block{display:flex;gap:6px;align-items:center}
    .key{width:46px;height:46px;border-radius:10px;background:rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;color:#001;font-weight:800}
    .key.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#001;box-shadow:0 8px 24px rgba(107,224,255,0.08)}
    .embed{width:100%;max-width:920px;height:560px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);background:#000;overflow:hidden}
    @media (max-width:820px){ #game-area, canvas{width:320px;height:320px} .logo-canal{width:140px;height:140px} .logo-wrap{padding:5px} }
  </style>
</head>
<body>
<header>
  <nav>
    <a href="#inicio">Inicio</a>
    <a href="#canal">Canal</a>
    <a href="#juegos">Juegos</a>
    <a href="#emulador">Infinite Mac</a>
    <a href="#contacto">Contacto</a>
  </nav>
</header>

<main id="inicio">
  <!-- Hero -->
  <section class="card" style="text-align:center">
    <div class="logo-wrap" style="position:relative;display:inline-block;">
      <img src="imagenes/canal.png" alt="Logo del canal de Delfi" class="logo-canal" width="160" height="160" loading="lazy" />
    </div>
    <h1>Hola, soy Delfi</h1>
    <p class="note">Bienvenido a mi p√°gina: est√©tica Vocaloid, juegos y emuladores. Versi√≥n v2.7</p>
  </section>

  <!-- Canal -->
  <section id="canal" class="card">
    <h2>üé• Mi canal de YouTube</h2>
    <p class="small">Visita mi canal para ver mis videos y suscribirte.</p>
    <a class="btn" href="https://www.youtube.com/@Delfi-XDoriginal13" target="_blank" rel="noopener">Ir a mi canal</a>
  </section>

  <!-- Infograf√≠a -->
  <section id="infografia" class="card">
    <h2>üìå Mini Infograf√≠a</h2>
    <p class="note">Me encanta la tecnolog√≠a retro y moderna. Desarrollo en Roblox y subo videos.</p>
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <div style="flex:1;min-width:200px">
        <strong>Intereses</strong>
        <ul class="small">
          <li>Tecnolog√≠a retro y moderna</li>
          <li>Desarrollo en Roblox</li>
          <li>Videos y streaming</li>
        </ul>
      </div>
      <div style="flex:1;min-width:200px">
        <strong>Redes</strong>
        <p class="small">Roblox: <strong>MVTOEP</strong><br>Discord: <strong>dealfi_30409</strong></p>
      </div>
    </div>
  </section>

  <!-- Juegos -->
  <section id="juegos" class="card">
    <h2>üéÆ Juegos</h2>

    <!-- Atrapa -->
    <div style="margin-bottom:18px">
      <h3>Atrapa el cuadrado</h3>
      <div id="score">Puntos: 0</div>
      <div id="game-area"><div id="square" role="button" aria-label="Cuadrado objetivo"></div></div>
    </div>

    <!-- Snake -->
    <div style="margin-bottom:18px">
      <h3>üêç Snake (WASD)</h3>
      <canvas id="snakeGame" width="400" height="400" aria-label="Canvas Snake"></canvas>
      <p id="snakeScore" class="small">Puntos: 0</p>
      <div class="controls" style="margin-top:8px">
        <button class="btn alt" id="snakeUp">W</button>
        <button class="btn alt" id="snakeLeft">A</button>
        <button class="btn alt" id="snakeDown">S</button>
        <button class="btn alt" id="snakeRight">D</button>
      </div>
      <div class="key-indicators" aria-hidden="true" style="margin-top:12px;">
        <div class="keys-block">
          <div class="key" id="keyW">W</div>
          <div class="key" id="keyA">A</div>
          <div class="key" id="keyS">S</div>
          <div class="key" id="keyD">D</div>
        </div>
      </div>
    </div>

    <!-- Space -->
    <div>
      <h3>üëæ Space Invaders (Flechas + Z)</h3>
      <canvas id="spaceGame" width="400" height="400" aria-label="Canvas Space Invaders"></canvas>
      <p id="spaceStatus" class="small"></p>
      <div class="controls" style="margin-top:8px">
        <button class="btn alt" id="spaceLeft">‚Üê</button>
        <button class="btn alt" id="spaceFire">Z</button>
        <button class="btn alt" id="spaceRight">‚Üí</button>
      </div>
      <div class="key-indicators" aria-hidden="true" style="margin-top:12px;">
        <div class="keys-block">
          <div class="key" id="keyLeft">‚Üê</div>
          <div class="key" id="keyRight">‚Üí</div>
          <div style="width:12px"></div>
          <div class="key" id="keyZ">Z</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Infinite Mac -->
  <section id="emulador" class="card">
    <h2>üñ•Ô∏è Emulador Infinite Mac ‚Äî System 7.5.3</h2>
    <div class="row" style="justify-content:center;gap:8px">
      <button class="btn" id="loadInfiniteBtn">Cargar emulador aqu√≠</button>
      <a class="btn alt" href="https://infinitemac.org/embed?disk=System+7.5.3&infinite_hd=true&machine=Quadra+650" target="_blank" rel="noopener">Abrir en nueva pesta√±a</a>
      <button class="btn alt" id="emuladorFullscreen">Pantalla completa</button>
    </div>
    <div id="embedContainer" style="margin-top:12px;text-align:center;color:var(--muted)">Pulsa "Cargar emulador aqu√≠".</div>
  </section>

  <!-- Contacto -->
  <section id="contacto" class="card">
    <h2>üì≤ Contacto</h2>
    <p class="small"><strong>Roblox:</strong> MVTOEP ¬∑ <strong>Discord:</strong> dealfi_30409</p>
  </section>
</main>

<footer>¬© 2025 Delfi ‚Äî Dise√±o Vocaloid</footer>
<div class="version">v2.7</div>

<!-- Audio assets (hosted public sounds) -->
<audio id="sfx-beep" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" preload="auto"></audio>
<audio id="sfx-eat" src="https://actions.google.com/sounds/v1/cartoon/pop.ogg" preload="auto"></audio>
<audio id="sfx-crash" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" preload="auto"></audio>
<audio id="sfx-shoot" src="https://actions.google.com/sounds/v1/cartoon/slide_whistle.ogg" preload="auto"></audio>
<audio id="sfx-boom" src="https://actions.google.com/sounds/v1/cartoon/concussive_drum_hit.ogg" preload="auto"></audio>

<script>
/* Utility: safe play (some browsers require user gesture) */
async function safePlay(audioEl){
  try { await audioEl.play(); } catch(e) { /* ignore if blocked until user interacts */ }
}

/* ATRAPA */
(function(){
  const square = document.getElementById('square');
  const area = document.getElementById('game-area');
  const scoreEl = document.getElementById('score');
  const sfxBeep = document.getElementById('sfx-beep');
  let score = 0;

  function moveSquare(){
    const maxX = Math.max(1, area.clientWidth - square.clientWidth);
    const maxY = Math.max(1, area.clientHeight - square.clientHeight);
    const x = Math.floor(Math.random() * maxX);
    const y = Math.floor(Math.random() * maxY);
    square.style.left = x + 'px';
    square.style.top = y + 'px';
  }

  function addPoint(){
    score++;
    scoreEl.textContent = 'Puntos: ' + score;
    safePlay(sfxBeep);
    moveSquare();
  }

  square.addEventListener('click', addPoint);
  square.addEventListener('touchstart', (e)=>{ e.preventDefault(); addPoint(); }, { passive:false });

  setInterval(moveSquare, 2000);
  moveSquare();
})();

/* SNAKE */
(function(){
  const canvas = document.getElementById('snakeGame');
  const ctx = canvas.getContext('2d');
  const box = 20;
  let snake = [{ x: 9*box, y: 10*box }];
  let food = { x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box };
  let dir = null;
  let points = 0;
  const scoreEl = document.getElementById('snakeScore');
  const sfxEat = document.getElementById('sfx-eat');
  const sfxCrash = document.getElementById('sfx-crash');

  function setDir(newDir){
    if(newDir === 'LEFT' && dir === 'RIGHT') return;
    if(newDir === 'RIGHT' && dir === 'LEFT') return;
    if(newDir === 'UP' && dir === 'DOWN') return;
    if(newDir === 'DOWN' && dir === 'UP') return;
    dir = newDir;
  }
  window.setDir = setDir;

  document.addEventListener('keydown', (e)=>{
    const k = (e.key || '').toLowerCase();
    if(k === 'a') { setDir('LEFT'); document.getElementById('keyA').classList.add('active'); }
    if(k === 'd') { setDir('RIGHT'); document.getElementById('keyD').classList.add('active'); }
    if(k === 'w') { setDir('UP'); document.getElementById('keyW').classList.add('active'); }
    if(k === 's') { setDir('DOWN'); document.getElementById('keyS').classList.add('active'); }
  });
  document.addEventListener('keyup', (e)=>{
    const k = (e.key || '').toLowerCase();
    if(k === 'a') document.getElementById('keyA').classList.remove('active');
    if(k === 'd') document.getElementById('keyD').classList.remove('active');
    if(k === 'w') document.getElementById('keyW').classList.remove('active');
    if(k === 's') document.getElementById('keyS').classList.remove('active');
  });

  function collision(head, array){ return array.some(seg => seg.x === head.x && seg.y === head.y); }

  function reset(){
    snake = [{ x: 9*box, y: 10*box }];
    dir = null;
    points = 0;
    scoreEl.textContent = 'Puntos: 0';
    food = { x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box };
    safePlay(sfxCrash);
  }

  function draw(){
    ctx.fillStyle = '#000';
    ctx.fillRect(0,0,canvas.width,canvas.height);

    for(let i=0;i<snake.length;i++){
      ctx.fillStyle = i===0 ? 'lime' : 'white';
      ctx.fillRect(snake[i].x, snake[i].y, box, box);
    }

    ctx.fillStyle = 'red';
    ctx.fillRect(food.x, food.y, box, box);

    let snakeX = snake[0].x;
    let snakeY = snake[0].y;
    if(dir === 'LEFT') snakeX -= box;
    if(dir === 'RIGHT') snakeX += box;
    if(dir === 'UP') snakeY -= box;
    if(dir === 'DOWN') snakeY += box;

    if(snakeX === food.x && snakeY === food.y){
      points++;
      scoreEl.textContent = 'Puntos: ' + points;
      food = { x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box };
      safePlay(sfxEat);
    } else {
      snake.pop();
    }

    const newHead = { x: snakeX, y: snakeY };
    if(snakeX < 0 || snakeY < 0 || snakeX >= canvas.width || snakeY >= canvas.height || collision(newHead, snake)){
      reset();
      return;
    }
    snake.unshift(newHead);
  }

  // Mobile control buttons (hold-to-repeat)
  function addHold(button, action, interval=120){
    let h = null;
    const start = (e) => { e.preventDefault(); action(); if(h) clearInterval(h); h = setInterval(action, interval); button.classList.add('active'); };
    const stop = () => { if(h){ clearInterval(h); h = null; } button.classList.remove('active'); };
    button.addEventListener('touchstart', start, { passive:false });
    button.addEventListener('mousedown', start);
    button.addEventListener('touchend', stop);
    button.addEventListener('mouseup', stop);
    button.addEventListener('mouseleave', stop);
    button.addEventListener('click', (e)=>{ e.preventDefault(); action(); });
  }

  const sUp = document.getElementById('snakeUp'), sLeft = document.getElementById('snakeLeft'), sDown = document.getElementById('snakeDown'), sRight = document.getElementById('snakeRight');
  if(sUp) addHold(sUp, ()=> { setDir('UP'); document.getElementById('keyW').classList.add('active'); setTimeout(()=>document.getElementById('keyW').classList.remove('active'),120); });
  if(sLeft) addHold(sLeft, ()=> { setDir('LEFT'); document.getElementById('keyA').classList.add('active'); setTimeout(()=>document.getElementById('keyA').classList.remove('active'),120); });
  if(sDown) addHold(sDown, ()=> { setDir('DOWN'); document.getElementById('keyS').classList.add('active'); setTimeout(()=>document.getElementById('keyS').classList.remove('active'),120); });
  if(sRight) addHold(sRight, ()=> { setDir('RIGHT'); document.getElementById('keyD').classList.add('active'); setTimeout(()=>document.getElementById('keyD').classList.remove('active'),120); });

  setInterval(draw, 100);
})();

/* SPACE INVADERS */
(function(){
  const canvas = document.getElementById('spaceGame');
  const ctx = canvas.getContext('2d');
  const sfxShoot = document.getElementById('sfx-shoot');
  const sfxBoom = document.getElementById('sfx-boom');

  let ship = { x: 180, y: 350, w: 40, h: 16 };
  let bullets = [];
  let enemies = [];
  let enemyDir = 1;
  let enemySpeed = 0.6;
  const statusEl = document.getElementById('spaceStatus');

  function createEnemies(){
    enemies = [];
    for(let r=0;r<3;r++){
      for(let c=0;c<5;c++){
        enemies.push({ x: c*60+30, y: r*40+30, w:30, h:18, alive:true });
      }
    }
  }
  createEnemies();

  document.addEventListener('keydown', (e)=>{
    const k = (e.key || '').toLowerCase();
    if(k === 'arrowleft'){ ship.x = Math.max(0, ship.x - 20); document.getElementById('keyLeft').classList.add('active'); }
    if(k === 'arrowright'){ ship.x = Math.min(canvas.width - ship.w, ship.x + 20); document.getElementById('keyRight').classList.add('active'); }
    if(k === 'z'){ bullets.push({ x: ship.x + ship.w/2 - 2, y: ship.y, w:4, h:10 }); safePlay(sfxShoot); document.getElementById('keyZ').classList.add('active'); }
  });
  document.addEventListener('keyup', (e)=>{
    const k = (e.key || '').toLowerCase();
    if(k === 'arrowleft') document.getElementById('keyLeft').classList.remove('active');
    if(k === 'arrowright') document.getElementById('keyRight').classList.remove('active');
    if(k === 'z') document.getElementById('keyZ').classList.remove('active');
  });

  function addHold(button, action, interval=80){
    let h = null;
    const start = (e) => { e.preventDefault(); action(); if(h) clearInterval(h); h = setInterval(action, interval); button.classList.add('active'); };
    const stop = () => { if(h){ clearInterval(h); h = null; } button.classList.remove('active'); };
    button.addEventListener('touchstart', start, { passive:false });
    button.addEventListener('mousedown', start);
    button.addEventListener('touchend', stop);
    button.addEventListener('mouseup', stop);
    button.addEventListener('mouseleave', stop);
    button.addEventListener('click', (e)=>{ e.preventDefault(); action(); });
  }

  const spLeft = document.getElementById('spaceLeft'), spRight = document.getElementById('spaceRight'), spFire = document.getElementById('spaceFire');
  if(spLeft) addHold(spLeft, ()=> { ship.x = Math.max(0, ship.x - 6); document.getElementById('keyLeft').classList.add('active'); setTimeout(()=>document.getElementById('keyLeft').classList.remove('active'),120); });
  if(spRight) addHold(spRight, ()=> { ship.x = Math.min(canvas.width - ship.w, ship.x + 6); document.getElementById('keyRight').classList.add('active'); setTimeout(()=>document.getElementById('keyRight').classList.remove('active'),120); });
  if(spFire) addHold(spFire, ()=> { bullets.push({ x: ship.x + ship.w/2 - 2, y: ship.y, w:4, h:10 }); safePlay(sfxShoot); document.getElementById('keyZ').classList.add('active'); setTimeout(()=>document.getElementById('keyZ').classList.remove('active'),120); });

  function updateEnemies(){
    let minX = Infinity, maxX = -Infinity;
    enemies.forEach(e => { if(!e.alive) return; minX = Math.min(minX, e.x); maxX = Math.max(maxX, e.x + e.w); });
    if(minX === Infinity) return;
    if(maxX >= canvas.width - 10 && enemyDir === 1){ enemyDir = -1; enemies.forEach(e => e.y += 10); }
    if(minX <= 10 && enemyDir === -1){ enemyDir = 1; enemies.forEach(e => e.y += 10); }
    enemies.forEach(e => { if(e.alive) e.x += enemyDir * enemySpeed; });
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = 'lime'; ctx.fillRect(ship.x, ship.y, ship.w, ship.h);
    ctx.fillStyle = 'yellow'; bullets.forEach(b => { ctx.fillRect(b.x, b.y, b.w, b.h); b.y -= 6; });
    ctx.fillStyle = 'red'; enemies.forEach(e => { if(e.alive) ctx.fillRect(e.x, e.y, e.w, e.h); });

    bullets = bullets.filter(b => {
      if(b.y < 0) return false;
      for(let i=0;i<enemies.length;i++){
        const e = enemies[i];
        if(!e.alive) continue;
        if(b.x < e.x + e.w && b.x + b.w > e.x && b.y < e.y + e.h && b.y + b.h > e.y){
          e.alive = false;
          safePlay(sfxBoom);
          return false;
        }
      }
      return true;
    });

    updateEnemies();

    const anyAlive = enemies.some(e => e.alive);
    if(!anyAlive){
      statusEl.textContent = '¬°Ganaste! Reiniciando...';
      setTimeout(()=>{ createEnemies(); bullets = []; statusEl.textContent = ''; }, 1500);
    } else {
      const reached = enemies.some(e => e.alive && e.y + e.h >= ship.y);
      if(reached){
        statusEl.textContent = 'Has sido alcanzado. Reiniciando...';
        setTimeout(()=>{ createEnemies(); ship.x = 180; bullets = []; statusEl.textContent = ''; }, 1500);
      }
    }
  }

  setInterval(draw, 40);
})();

/* Infinite Mac embed */
(function(){
  const embedUrl = "https://infinitemac.org/embed?disk=System+7.5.3&infinite_hd=true&machine=Quadra+650";
  const loadBtn = document.getElementById('loadInfiniteBtn');
  const container = document.getElementById('embedContainer');
  const fsBtn = document.getElementById('emuladorFullscreen');
  let iframeEl = null;
  function isMobile(){ return /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent); }
  loadBtn.addEventListener('click', ()=> {
    if(iframeEl) return;
    iframeEl = document.createElement('iframe');
    iframeEl.src = embedUrl;
    iframeEl.className = 'embed';
    iframeEl.style.width='100%'; iframeEl.style.height='600px'; iframeEl.loading='lazy';
    iframeEl.allow = "clipboard-write; fullscreen; autoplay";
    iframeEl.title = "Infinite Mac System 7.5.3";
    container.innerHTML = '';
    container.appendChild(iframeEl);
    if(isMobile()) iframeEl.style.height='420px';
  });
  fsBtn.addEventListener('click', ()=> {
    const iframe = container.querySelector('iframe');
    if(!iframe){ alert('Primero carga el emulador aqu√≠ con "Cargar emulador aqu√≠".'); return; }
    try{ if(iframe.requestFullscreen) iframe.requestFullscreen(); else window.open(embedUrl,'_blank'); } catch(e){ window.open(embedUrl,'_blank'); }
  });
})();

/* Prevent default scroll for game keys when interacting */
(function(){
  const interactive = ['#game-area','#snakeGame','#spaceGame','#embedContainer','.controls','.embed'];
  const els = interactive.map(s=>Array.from(document.querySelectorAll(s))).flat();
  function inside(target){
    if(!target) return false;
    for(const el of els) if(el && (el===target || el.contains(target))) return true;
    return false;
  }
  const keys = new Set(['arrowup','arrowdown','arrowleft','arrowright',' ','w','a','s','d','z']);
  document.addEventListener('keydown', (e)=>{
    const k = (e.key||'').toLowerCase();
    if(!keys.has(k)) return;
    const active = document.activeElement;
    if(active && (active.tagName==='INPUT' || active.tagName==='TEXTAREA' || active.isContentEditable)) return;
    if(inside(e.target)) e.preventDefault();
  }, { passive:false });
})();

/* Small touchstart to improve mobile UX */
document.addEventListener('touchstart', function(){}, {passive:true});
</script>
</body>
</html>
