<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mi p√°gina Delfi</title>
    <link rel="stylesheet" href="style.css">
    <style>
      body {
        background: #0b0b0f;
        color: #e9f3ff;
        font-family: system-ui, Arial, sans-serif;
        line-height: 1.5;
        margin: 0;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      .logo-canal {
        width: 200px;
        border-radius: 50%;
        border: 4px solid #00f;
        box-shadow: 0 0 20px #0ff;
        margin-bottom: 1rem;
      }
      nav {
        display:flex;
        gap:1rem;
        justify-content:center;
        background:#1a1a22;
        padding:12px;
        position: sticky;
        top: 0;
        z-index: 10;
      }
      nav a { color:#0ff; text-decoration:none; font-weight:600; }
      nav a:hover { color:#8ef; }

      main section { padding: 20px 16px; max-width: 900px; margin: 0 auto; }
      .card {
        background:#121218;
        border:1px solid #1f2a44;
        border-radius:12px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.4);
        margin: 16px auto;
        padding: 20px;
      }
      .btn {
        display:inline-block;
        background:#0af;
        color:#001;
        padding:10px 16px;
        border-radius:8px;
        text-decoration:none;
        font-weight:700;
        margin-top:10px;
      }
      .btn:hover { background:#09c; }

      /* Atrapa el cuadrado */
      #game-area {
        width: 400px;
        height: 400px;
        border: 2px solid #00f;
        position: relative;
        margin: 20px auto;
        background: #111;
        touch-action: none; /* evita gestos de navegador en el √°rea */
      }
      #square {
        width: 40px;
        height: 40px;
        background: #0f0;
        position: absolute;
        cursor: pointer;
        touch-action: none;
      }
      #score {
        text-align: center;
        font-size: 1.25rem;
        color: #fff;
      }

      /* Canvas centrados */
      canvas {
        display:block;
        margin: 16px auto;
        border: 2px solid #234;
        border-radius: 8px;
        background: #000;
        touch-action: none; /* evita scroll en canvas */
      }

      /* Infograf√≠a */
      .infografia {
        background: linear-gradient(135deg, #0af, #09c);
        color: #fff;
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        font-size: 1.1rem;
        box-shadow: 0 8px 24px rgba(0,0,0,0.5);
      }

      /* Versi√≥n */
      .version {
        position: fixed;
        bottom: 10px;
        right: 10px;
        background: #222;
        color: #0ff;
        padding: 6px 10px;
        border-radius: 6px;
        font-size: 0.9rem;
        opacity: 0.9;
      }

      /* Mobile controls */
      .controls {
        display:flex;
        gap:8px;
        justify-content:center;
        margin-top:8px;
      }
      .control-btn {
        background: rgba(10,170,255,0.12);
        color: #0ff;
        border: 1px solid rgba(10,170,255,0.25);
        padding: 10px 12px;
        border-radius: 8px;
        font-weight:700;
        user-select:none;
        -webkit-user-select:none;
        touch-action: manipulation;
      }
      .controls.small { gap:6px; }
      .mobile-row { display:flex; gap:6px; justify-content:center; margin-top:6px; }

      .center { text-align:center; }
      footer { text-align:center; margin: 24px 0 40px; color:#a9b7c6; }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <a href="#inicio">Inicio</a>
        <a href="#canal">Canal</a>
        <a href="#infografia">Infograf√≠a</a>
        <a href="#juego">Atrapa</a>
        <a href="#snake">Snake</a>
        <a href="#space">Space Invaders</a>
        <a href="#contacto">Contacto</a>
      </nav>
    </header>

    <main id="inicio">
      <section class="hero center">
        <img src="imagenes/canal.png" alt="Logo de mi canal" class="logo-canal">
        <h1>Hola, soy Delfi</h1>
        <p>Bienvenido a mi p√°gina web. Aqu√≠ comparto mi canal, mis redes y algunos juegos üéÆ</p>
      </section>

      <section id="canal" class="card center">
        <h2>üé• Mi canal de YouTube</h2>
        <p>Visita mi canal para ver mis videos y suscribirte.</p>
        <a class="btn" href="https://www.youtube.com/@Delfi-XDoriginal13" target="_blank">üëâ Ir a mi canal</a>
      </section>

      <!-- Infograf√≠a -->
      <section id="infografia" class="card infografia">
        <h2>üìå Mini Infograf√≠a</h2>
        <p>Hola soy Delfi, me gusta la tecnolog√≠a nueva y antigua.<br>
        Estoy trabajando en un juego de Roblox y me gustar√≠a que me siguieras.<br>
        Tambi√©n subo videos. ¬°Gracias por leer esto! üôÇ</p>
      </section>

      <!-- Atrapa el cuadrado -->
      <section id="juego" class="card">
        <h2>üéÆ Minijuego: Atrapa el cuadrado</h2>
        <div id="score">Puntos: 0</div>
        <div id="game-area" aria-label="√Årea de juego Atrapa el cuadrado">
          <div id="square" role="button" aria-label="Cuadrado objetivo"></div>
        </div>
        <p class="center" style="font-size:0.9rem;color:#9fb;">Toca el cuadrado para sumar puntos. En m√≥vil, toca directamente.</p>
      </section>

      <!-- Snake -->
      <section id="snake" class="card">
        <h2>üêç Snake</h2>
        <canvas id="snakeGame" width="400" height="400" aria-label="Canvas Snake"></canvas>
        <p class="center" id="snakeScore">Puntos: 0</p>
        <p class="center" style="font-size:0.9rem;color:#9fb;">Usa las flechas para mover. Si chocas, el juego reinicia.</p>

        <!-- Controles m√≥viles para Snake -->
        <div class="controls small" id="snakeControls" aria-hidden="false">
          <div class="mobile-row">
            <button class="control-btn" id="snakeUp">‚Üë</button>
          </div>
          <div class="mobile-row">
            <button class="control-btn" id="snakeLeft">‚Üê</button>
            <button class="control-btn" id="snakeDown">‚Üì</button>
            <button class="control-btn" id="snakeRight">‚Üí</button>
          </div>
        </div>
      </section>

      <!-- Space Invaders -->
      <section id="space" class="card">
        <h2>üëæ Space Invaders</h2>
        <canvas id="spaceGame" width="400" height="400" aria-label="Canvas Space Invaders"></canvas>
        <p class="center" id="spaceStatus" style="color:#9fb;"></p>
        <p class="center" style="font-size:0.9rem;color:#9fb;">Flechas para mover, barra espaciadora para disparar.</p>

        <!-- Controles m√≥viles para Space Invaders -->
        <div class="controls" id="spaceControls">
          <button class="control-btn" id="spaceLeft">‚Üê</button>
          <button class="control-btn" id="spaceFire">FIRE</button>
          <button class="control-btn" id="spaceRight">‚Üí</button>
        </div>
      </section>

      <section id="contacto" class="card center">
        <h2>üì≤ Contacto</h2>
        <p><strong>Roblox:</strong> MVTOEP</p>
        <p><strong>Discord:</strong> dealfi_30409</p>
      </section>
    </main>

    <footer>¬© 2025 Delfi. Todos los derechos reservados.</footer>

    <!-- Versi√≥n: v1.3 -->
    <div class="version">v1.3</div>

    <script>
      /* ============================
         Evitar scroll con teclas y gestos
         ============================ */
      // Evita que las teclas de flecha y espacio hagan scroll en la p√°gina
      window.addEventListener('keydown', function(e) {
        const keysToPrevent = ['ArrowUp','ArrowDown','ArrowLeft','ArrowRight',' '];
        if (keysToPrevent.includes(e.key)) {
          // Solo prevenir si el foco est√° en body o en canvas/√°rea de juego
          e.preventDefault();
        }
      }, { passive: false });

      // Evita el scroll por gestos t√°ctiles dentro de los elementos de juego
      const gameElements = [document.getElementById('game-area'), document.getElementById('snakeGame'), document.getElementById('spaceGame')];
      gameElements.forEach(el => {
        if (!el) return;
        el.addEventListener('touchstart', e => { e.stopPropagation(); }, { passive: false });
        el.addEventListener('touchmove', e => { e.preventDefault(); }, { passive: false });
      });

      /* ============================
         Atrapa el cuadrado (touch-friendly)
         ============================ */
      const square = document.getElementById("square");
      const gameArea = document.getElementById("game-area");
      const scoreDisplay = document.getElementById("score");
      let score = 0;

      function moveSquare() {
        const maxX = gameArea.clientWidth - square.clientWidth;
        const maxY = gameArea.clientHeight - square.clientHeight;
        const x = Math.floor(Math.random() * maxX);
        const y = Math.floor(Math.random() * maxY);
        square.style.left = x + "px";
        square.style.top = y + "px";
      }

      function addPoint() {
        score++;
        scoreDisplay.textContent = "Puntos: " + score;
        moveSquare();
      }

      square.addEventListener("click", addPoint);
      // touch support
      square.addEventListener("touchstart", function(e) {
        e.preventDefault();
        addPoint();
      }, { passive: false });

      setInterval(moveSquare, 2000);
      moveSquare();

      /* ============================
         Snake (funcional + controles m√≥viles)
         ============================ */
      const canvas = document.getElementById("snakeGame");
      const ctx = canvas.getContext("2d");
      const box = 20;
      let snake = [{ x: 9 * box, y: 10 * box }];
      let food = { x: Math.floor(Math.random() * 20) * box, y: Math.floor(Math.random() * 20) * box };
      let dir = null;
      let snakePoints = 0;
      const snakeScoreEl = document.getElementById("snakeScore");

      function setDir(newDir) {
        // evita reversos directos
        if (newDir === "LEFT" && dir === "RIGHT") return;
        if (newDir === "RIGHT" && dir === "LEFT") return;
        if (newDir === "UP" && dir === "DOWN") return;
        if (newDir === "DOWN" && dir === "UP") return;
        dir = newDir;
      }

      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft") setDir("LEFT");
        else if (e.key === "ArrowUp") setDir("UP");
        else if (e.key === "ArrowRight") setDir("RIGHT");
        else if (e.key === "ArrowDown") setDir("DOWN");
      });

      // Mobile buttons
      document.getElementById("snakeUp").addEventListener("touchstart", e => { e.preventDefault(); setDir("UP"); }, { passive: false });
      document.getElementById("snakeLeft").addEventListener("touchstart", e => { e.preventDefault(); setDir("LEFT"); }, { passive: false });
      document.getElementById("snakeDown").addEventListener("touchstart", e => { e.preventDefault(); setDir("DOWN"); }, { passive: false });
      document.getElementById("snakeRight").addEventListener("touchstart", e => { e.preventDefault(); setDir("RIGHT"); }, { passive: false });

      // Also allow click on mobile buttons
      document.getElementById("snakeUp").addEventListener("click", () => setDir("UP"));
      document.getElementById("snakeLeft").addEventListener("click", () => setDir("LEFT"));
      document.getElementById("snakeDown").addEventListener("click", () => setDir("DOWN"));
      document.getElementById("snakeRight").addEventListener("click", () => setDir("RIGHT"));

      function collision(head, array) {
        for (let i = 0; i < array.length; i++) {
          if (head.x === array[i].x && head.y === array[i].y) return true;
        }
        return false;
      }

      function resetSnake() {
        snake = [{ x: 9 * box, y: 10 * box }];
        dir = null;
        snakePoints = 0;
        snakeScoreEl.textContent = "Puntos: 0";
        food = { x: Math.floor(Math.random() * 20) * box, y: Math.floor(Math.random() * 20) * box };
      }

      function drawSnake() {
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, 400, 400);

        for (let i = 0; i < snake.length; i++) {
          ctx.fillStyle = i === 0 ? "lime" : "white";
          ctx.fillRect(snake[i].x, snake[i].y, box, box);
        }

        ctx.fillStyle = "red";
        ctx.fillRect(food.x, food.y, box, box);

        let snakeX = snake[0].x;
        let snakeY = snake[0].y;

        if (dir === "LEFT") snakeX -= box;
        if (dir === "UP") snakeY -= box;
        if (dir === "RIGHT") snakeX += box;
        if (dir === "DOWN") snakeY += box;

        // comer
        if (snakeX === food.x && snakeY === food.y) {
          snakePoints++;
          snakeScoreEl.textContent = "Puntos: " + snakePoints;
          food = { x: Math.floor(Math.random() * 20) * box, y: Math.floor(Math.random() * 20) * box };
        } else {
          snake.pop();
        }

        const newHead = { x: snakeX, y: snakeY };

        // colisiones con paredes o cola
        if (snakeX < 0 || snakeY < 0 || snakeX >= 400 || snakeY >= 400 || collision(newHead, snake)) {
          resetSnake();
          return;
        }

        snake.unshift(newHead);
      }

      setInterval(drawSnake, 100);

      /* ============================
         Space Invaders (controles m√≥viles)
         ============================ */
      const canvas2 = document.getElementById("spaceGame");
      const ctx2 = canvas2.getContext("2d");
      let ship = { x: 180, y: 350, w: 40, h: 16 };
      let bullets = [];
      let enemies = [];
      let enemyDir = 1; // 1 = derecha, -1 = izquierda
      let enemySpeed = 0.5;
      const spaceStatus = document.getElementById("spaceStatus");

      function createEnemies() {
        enemies = [];
        for (let row = 0; row < 3; row++) {
          for (let col = 0; col < 5; col++) {
            enemies.push({ x: col * 60 + 30, y: row * 40 + 30, w: 30, h: 18, alive: true });
          }
        }
      }
      createEnemies();

      // keyboard controls
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft") ship.x = Math.max(0, ship.x - 20);
        if (e.key === "ArrowRight") ship.x = Math.min(400 - ship.w, ship.x + 20);
        if (e.key === " ") bullets.push({ x: ship.x + ship.w / 2 - 2, y: ship.y, w: 4, h: 10 });
      });

      // Mobile controls: left/right move on touch, fire on touch
      document.getElementById("spaceLeft").addEventListener("touchstart", e => { e.preventDefault(); ship.x = Math.max(0, ship.x - 20); }, { passive: false });
      document.getElementById("spaceRight").addEventListener("touchstart", e => { e.preventDefault(); ship.x = Math.min(400 - ship.w, ship.x + 20); }, { passive: false });
      document.getElementById("spaceFire").addEventListener("touchstart", e => { e.preventDefault(); bullets.push({ x: ship.x + ship.w / 2 - 2, y: ship.y, w: 4, h: 10 }); }, { passive: false });

      // click fallback
      document.getElementById("spaceLeft").addEventListener("click", () => ship.x = Math.max(0, ship.x - 20));
      document.getElementById("spaceRight").addEventListener("click", () => ship.x = Math.min(400 - ship.w, ship.x + 20));
      document.getElementById("spaceFire").addEventListener("click", () => bullets.push({ x: ship.x + ship.w / 2 - 2, y: ship.y, w: 4, h: 10 }));

      function updateEnemies() {
        let minX = Infinity, maxX = -Infinity;
        enemies.forEach(e => {
          if (!e.alive) return;
          minX = Math.min(minX, e.x);
          maxX = Math.max(maxX, e.x + e.w);
        });
        if (minX === Infinity) return;
        if (maxX >= 400 - 10 && enemyDir === 1) { enemyDir = -1; enemies.forEach(e => e.y += 10); }
        if (minX <= 10 && enemyDir === -1) { enemyDir = 1; enemies.forEach(e => e.y += 10); }
        enemies.forEach(e => { if (e.alive) e.x += enemyDir * enemySpeed; });
      }

      function drawSpace() {
        ctx2.clearRect(0, 0, 400, 400);

        // nave
        ctx2.fillStyle = "lime";
        ctx2.fillRect(ship.x, ship.y, ship.w, ship.h);

        // balas
        ctx2.fillStyle = "yellow";
        bullets.forEach(b => { ctx2.fillRect(b.x, b.y, b.w, b.h); b.y -= 6; });

        // enemigos
        ctx2.fillStyle = "red";
        enemies.forEach(e => { if (e.alive) ctx2.fillRect(e.x, e.y, e.w, e.h); });

        // colisiones balas-enemigos
        bullets = bullets.filter(b => {
          if (b.y < 0) return false;
          for (let i = 0; i < enemies.length; i++) {
            const e = enemies[i];
            if (!e.alive) continue;
            if (b.x < e.x + e.w && b.x + b.w > e.x && b.y < e.y + e.h && b.y + b.h > e.y) {
              e.alive = false;
              return false;
            }
          }
          return true;
        });

        // actualizar enemigos
        updateEnemies();

        // comprobar fin del juego
        const anyAlive = enemies.some(e => e.alive);
        if (!anyAlive) {
          spaceStatus.textContent = "¬°Ganaste! Todos los enemigos destruidos.";
          setTimeout(() => { createEnemies(); spaceStatus.textContent = ""; }, 2000);
        } else {
          const reached = enemies.some(e => e.alive && e.y + e.h >= ship.y);
          if (reached) {
            spaceStatus.textContent = "Has sido alcanzado. Reiniciando...";
            setTimeout(() => { createEnemies(); ship.x = 180; bullets = []; spaceStatus.textContent = ""; }, 1500);
          }
        }
      }

      setInterval(drawSpace, 40);

      /* ============================
         Mejora UX: evitar selecci√≥n y scroll al tocar botones
         ============================ */
      // Evitar que el navegador haga doble-tap zoom en m√≥viles (simple)
      document.addEventListener('touchstart', function(){}, {passive: true});
    </script>
  </body>
</html>
